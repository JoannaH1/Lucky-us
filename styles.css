:root{
  --bg:#f7f3f0;
  --ink:#141316;
  --muted:#6e6670;
  --stroke:rgba(20,19,22,.10);
  --shadow: 0 18px 60px rgba(0,0,0,.12);
  --accent:#161518;

  --heart:#b23a49;
}

*{box-sizing:border-box}
html,body{height:100%}

body{
  margin:0;
  font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color:var(--ink);
  overflow:hidden;
  background:var(--bg);
}

.tiny-hearts{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:-2;
  opacity:.12;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='48' height='48'%3E%3Cpath d='M24 33 C17 29 12 24 12 18 C12 14 15 11 19 11 C21 11 23 12 24 14 C25 12 27 11 29 11 C33 11 36 14 36 18 C36 24 31 29 24 33Z' fill='%23b23a49' fill-opacity='0.18'/%3E%3C/svg%3E");
  background-size: 44px 44px;
  filter: blur(.08px);
}

.tiny-hearts::before,
.tiny-hearts::after{
  content:"";
  position:absolute;
  inset:-40px;
  background: inherit;
  background-size: inherit;
  opacity:.75;
  animation: floatA 12s ease-in-out infinite alternate;
}
.tiny-hearts{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:-2;
  opacity:.12;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='48' height='48'%3E%3Cpath d='M24 33 C17 29 12 24 12 18 C12 14 15 11 19 11 C21 11 23 12 24 14 C25 12 27 11 29 11 C33 11 36 14 36 18 C36 24 31 29 24 33Z' fill='%23b23a49' fill-opacity='0.18'/%3E%3C/svg%3E");
  background-size: 44px 44px;
  filter: blur(.08px);
}

.tiny-hearts{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:-2;
  opacity:.12;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='48' height='48'%3E%3Cpath d='M24 33 C17 29 12 24 12 18 C12 14 15 11 19 11 C21 11 23 12 24 14 C25 12 27 11 29 11 C33 11 36 14 36 18 C36 24 31 29 24 33Z' fill='%23b23a49' fill-opacity='0.18'/%3E%3C/svg%3E");
  background-size: 44px 44px;
  filter: blur(.08px);
}

.tiny-hearts::before,
.tiny-hearts::after{
  content:"";
  position:absolute;
  inset:-40px;
  background: inherit;
  background-size: inherit;
  opacity:.75;
  animation: floatA 12s ease-in-out infinite alternate;
}
.tiny-hearts::after{
  opacity:.55;
  animation: floatB 16s ease-in-out infinite alternate;
}

@keyframes floatA{
  0%   { transform: translate3d(-8px, 10px, 0); }
  40%  { transform: translate3d(12px, -8px, 0); }
  70%  { transform: translate3d(-10px, -12px, 0); }
  100% { transform: translate3d(10px, 8px, 0); }
}
@keyframes floatB{
  0%   { transform: translate3d(10px, -10px, 0); }
  35%  { transform: translate3d(-14px, -2px, 0); }
  75%  { transform: translate3d(8px, 14px, 0); }
  100% { transform: translate3d(-8px, 6px, 0); }
}


.tiny-hearts{
  inset:0;
  pointer-events:none;
  z-index:-2;
  opacity:.30;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='48' height='48'%3E%3Cpath d='M24 33 C17 29 12 24 12 18 C12 14 15 11 19 11 C21 11 23 12 24 14 C25 12 27 11 29 11 C33 11 36 14 36 18 C36 24 31 29 24 33Z' fill='%23b23a49' fill-opacity='0.18'/%3E%3C/svg%3E");
  background-size: 80px 80px;
  filter: blur(.08px);
}

.tiny-hearts::before,
.tiny-hearts::after{
  content:"";
  inset:-40px;
  background: inherit;
  background-size: inherit;
  opacity:.20;
  animation: floatA 12s ease-in-out infinite alternate;
}
.tiny-hearts::after{
  opacity:.55;
  animation: floatB 16s ease-in-out infinite alternate;
}

@keyframes floatA{
  0%   { transform: translate3d(-8px, 10px, 0); }
  40%  { transform: translate3d(12px, -8px, 0); }
  70%  { transform: translate3d(-10px, -12px, 0); }
  100% { transform: translate3d(10px, 8px, 0); }
}
@keyframes floatB{
  0%   { transform: translate3d(10px, -10px, 0); }
  35%  { transform: translate3d(-14px, -2px, 0); }
  75%  { transform: translate3d(8px, 14px, 0); }
  100% { transform: translate3d(-8px, 6px, 0); }
}



@keyframes floatA{
  0%   { transform: translate3d(-8px, 10px, 0); }
  40%  { transform: translate3d(12px, -8px, 0); }
  70%  { transform: translate3d(-10px, -12px, 0); }
  100% { transform: translate3d(10px, 8px, 0); }
}
@keyframes floatB{
  0%   { transform: translate3d(10px, -10px, 0); }
  35%  { transform: translate3d(-14px, -2px, 0); }
  75%  { transform: translate3d(8px, 14px, 0); }
  100% { transform: translate3d(-8px, 6px, 0); }
}


/* ---------- Soft luxury background glows ---------- */
.bg{position:fixed; inset:0; z-index:-3; overflow:hidden;}
.glow{
  position:absolute;
  width:70vmax; height:70vmax;
  border-radius:50%;
  filter: blur(60px);
  opacity:.62;
  animation: float 12s ease-in-out infinite alternate;
}
.g1{left:-20vmax; top:-25vmax; background:#f0d7db;}
.g2{right:-25vmax; bottom:-30vmax; background:#e8dfd6; animation-duration:14s;}
@keyframes float{
  from{transform:translate3d(0,0,0) scale(1);}
  to{transform:translate3d(40px,30px,0) scale(1.06);}
}
.grain{
  position:absolute; inset:0;
  opacity:.10;
  mix-blend-mode:multiply;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='.55'/%3E%3C/svg%3E");
}

/* ---------- App + transitions ---------- */
.app{height:100svh; position:relative;}

.screen{
  position:absolute; inset:0;
  padding:18px 12px 18px;
  display:flex;
  flex-direction:column;
  opacity:0;
  transform: translateY(10px);
  transition: opacity .38s ease, transform .38s ease;
  pointer-events:none;
}
.screen.active{
  opacity:1;
  transform: translateY(0);
  pointer-events:auto;
}

/* ---------- Page 1 layout ---------- */
.center{
  height:100%;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:14px;
  text-align:center;
  padding:10px;
}

.badge{
  font-size:12px;
  letter-spacing:.12em;
  text-transform:uppercase;
  color:var(--muted);
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.45);
  padding:8px 12px;
  border-radius:999px;
  backdrop-filter: blur(8px);
}

.brand{
  font-family:"Playfair Display", serif;
  font-weight:700;
  font-size:44px;
  letter-spacing:-.02em;
  margin:0;
}

.lead{
  max-width:320px;
  color:var(--muted);
  margin:0;
  line-height:1.5
}

.hint{
  font-size:12px;
  color:var(--muted);
  margin-top:10px
}
.hint-bottom{
  position:absolute;
  left:0; right:0;
  bottom:18px;
  margin:0;
  text-align:center;
  padding:0 18px;
}

/* ---------- Buttons ---------- */
.btn{
  border:none;
  border-radius:999px;
  padding:12px 20px;
  font-weight:600;
  cursor:pointer;
}
.btn.primary{
  background:var(--accent);
  color:white;
  box-shadow: 0 16px 40px rgba(0,0,0,.18);
}

/* ---------- Topbar ---------- */
.topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  padding:10px 6px;
}
.topbar-title{
  font-weight:600;
  color:var(--muted);
  font-size:12px;
  letter-spacing:.12em;
  text-transform:uppercase;
}
.navbtn{
  width:44px; height:44px;
  border-radius:999px;
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.55);
  backdrop-filter: blur(8px);
  font-size:22px;
  cursor:pointer;
}
.navbtn:active{transform:translateY(1px)}

/* ---------- Page 2 layout (bigger + centered) ---------- */
.content{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:12px;
  height: calc(100svh - 84px); /* fills screen below topbar */
  padding: 0 8px;
}


/* ---------- Frame (bigger, soft champagne) ---------- */
.frame{
 width: min(98vw, 820px);
  max-width: 760px;
  margin: 0 auto;
  position:relative;
  padding: 16px;
  border-radius: 36px;
  background: rgba(255,255,255,.42);
  border: 1px solid rgba(255,255,255,.35);
  box-shadow: 0 36px 120px rgba(0,0,0,.22);
  backdrop-filter: blur(10px);
  transform: translate3d(-16px, 0, 0);

}

.glass{
  pointer-events:none;
  position:absolute;
  inset:2px;
  border-radius:34px;
  background:
    linear-gradient(110deg, rgba(255,255,255,.55), rgba(255,255,255,0) 42%),
    radial-gradient(1200px 300px at 20% 0%, rgba(255,255,255,.35), rgba(255,255,255,0) 60%);
  mix-blend-mode: soft-light;
}

.grid9{
  display:grid;
  grid-template-columns:repeat(3, 1fr);
  gap: 12px;                      /* luxe spacing */
  align-items:stretch;
}

.frame-caption{
  margin-top:10px;
  text-align:center;
  font-family:"Playfair Display", serif;
  font-size:16px;
  color:rgba(20,19,22,.70);
  letter-spacing:.04em;
}

.microhint{
  text-align:center;
  color:var(--muted);
  font-size:12px;
  margin-top:6px;
}

/* ---------- Cards (clean premium) ---------- */
.face-card,
.photo-card{
  border-radius:22px;
  overflow:hidden;
  position:relative;
  aspect-ratio: 3 / 4;
  background: rgba(255,255,255,.96);
  border: 1px solid rgba(15,15,18,.10);
  box-shadow: 0 18px 55px rgba(0,0,0,.16);
}

/* Inner border like real cards */
.face-card::before{
  content:"";
  position:absolute;
  inset:10px;
  border-radius:16px;
  border:1px solid rgba(15,15,18,.08);
  pointer-events:none;
}

/* Big heart pip */
.face-card .pip{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size: 36px;
  color: rgba(178,58,73,.60);
}

/* Corner suits */
.face-card .suit,
.face-card .suit2{
  position:absolute;
  color: rgba(178,58,73,.85);
  font-size: 13px;
}
.face-card .suit{ top:30px; left:12px; }
.face-card .suit2{ bottom:30px; right:12px; transform: rotate(180deg); }

/* Rank text (top/bottom) */
.face-card::after{
  content: attr(data-rank);
  position:absolute;
  top:12px; left:12px;
 font-family: "Cardo", serif;
  font-weight:700;
  font-size:16px;
  color:rgba(20,19,22,.82);
  letter-spacing:.02em;
}

/* bottom rank mirror */
.face-card .rank2{
  position:absolute;
  bottom:12px; right:12px;
  transform: rotate(180deg);
  font-family: "Cardo", serif;
  font-weight:700;
  font-size:16px;
  color:rgba(20,19,22,.82);
  letter-spacing:.02em;
}

/* ---------- Center photo card ---------- */
.photo-card{
  padding: 8px;
  cursor:pointer;
}
.photo-card img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
  border-radius: 14px;
}
.photo-card:active{ transform: translateY(1px); }

/* ---------- Modal ---------- */
.modal{
  position:fixed;
  inset:0;
  display:none;
  align-items:flex-end;
  justify-content:center;
  z-index:50;
}
.modal.show{ display:flex; }

.modal-backdrop{
  position:absolute;
  inset:0;
  background: rgba(10,10,12,.55);
  backdrop-filter: blur(6px);
}

.modal-sheet{
  position:relative;
  width:min(560px, 100%);
  margin: 0 14px 14px;
  border-radius:24px;
  padding:14px;
  background: rgba(255,255,255,.86);
  border:1px solid rgba(255,255,255,.35);
  box-shadow: 0 30px 120px rgba(0,0,0,.35);
  backdrop-filter: blur(10px);
}

.modal-top{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:6px 6px 10px;
}
.modal-title{
  font-family:"Playfair Display", serif;
  font-weight:700;
  letter-spacing:.02em;
}
.modal-close{
  width:42px; height:42px;
  border-radius:999px;
  border:1px solid rgba(20,19,22,.10);
  background: rgba(255,255,255,.8);
  cursor:pointer;
}

video{
  width:100%;
  border-radius:18px;
  outline:none;
  background:#000;
}

.modal-note{
  margin-top:10px;
  font-size:12px;
  color: rgba(20,19,22,.70);
}

/* =======================
   PAGE 3 â€” LOVE LETTER
   ======================= */

.letter-wrap{
  height: calc(100svh - 84px);
  display:grid;
  place-items:center;
  padding: 0 12px;
}

.envelope{
  position: relative;
  width: min(92vw, 420px);
  height: 240px;
  border-radius: 26px;
  transform: translate3d(0,0,0);
  cursor: pointer;
  user-select: none;
 
}

.env-shadow{
  position:absolute;
  inset: 0;
  border-radius: 28px;
  box-shadow: 0 40px 120px rgba(0,0,0,.22);
}

.env-body{
  position:absolute;
  inset:0;
  border-radius: 26px;
  background: rgba(137, 4, 20, 0.88);
  border: 1px solid rgba(255,255,255,.18);
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.12);
}


.env-flap{
  position:absolute;
  left: 0; right: 0;
  top: 0;
  height: 56%;
  border-radius: 26px 26px 18px 18px;
  background: linear-gradient(180deg, rgba(255,255,255,.14), rgba(0,0,0,.10)),
              rgba(137, 4, 20, 0.88);
  transform-origin: top center;
  transform: rotateX(0deg);
  transition: transform .55s cubic-bezier(.2,.8,.2,1);
  border-bottom: 1px solid rgba(255,255,255,.12);
}
/* Wax seal */
.seal{
  position:absolute;
  left:50%;
  top: 55%;
  transform: translate(-50%, -50%);
  width: 64px;
  height: 64px;
  border-radius: 999px;
  background: radial-gradient(circle at 30% 30%,
      rgba(255,255,255,.18),
      rgba(0,0,0,.18) 55%,
      rgba(0,0,0,.28)
    ),
    rgba(137, 4, 20, 0.92);
  box-shadow:
    0 18px 55px rgba(0,0,0,.25),
    inset 0 0 0 2px rgba(255,255,255,.10);
  display:grid;
  place-items:center;
  z-index: 4;
}

.seal-text{
  font-family: "Cardo", serif;
  font-weight: 700;
  letter-spacing: .1em;
  color: rgba(255,255,255,.92);
  font-size: 17px;
  transform: translateX(2px);
}

/* Seal should fade slightly when opened */
.envelope.open .seal{
  opacity: 0;
  transform: translate(-50%, -50%) scale(.96);
  transition: opacity .45s ease, transform .45s ease;
}


.letter-paper{
  position:absolute;
  left: 12px; right: 12px;
  bottom: -6px;              /* CHANGED */
  height: min(72vh, 300px);    /* OK */
  border-radius: 20px;
  background: rgba(255,255,255,.92);
  border: 1px solid rgba(15,15,18,.08);
  box-shadow: 0 16px 50px rgba(0,0,0,.12);
  padding: 16px 16px 14px;
  transform: translateY(42px); /* CHANGED */
transition: transform .65s cubic-bezier(.2,.9,.2,1), opacity .25s ease;
  overflow:hidden;
  opacity: 0;
pointer-events: none;
}


/* open state */
.envelope.open .env-flap{
  transform: rotateX(-155deg);
}
  .envelope.open .letter-paper{
transform: translateY(-40px);
  opacity: 100;
   pointer-events: auto;
}


.letter-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-bottom: 10px;
}

.stamp{
  width: 34px; height: 34px;
  border-radius: 10px;
  display:grid;
  place-items:center;
  background: rgba(178,58,73,.10);
  border: 1px solid rgba(178,58,73,.16);
  color: rgba(178,58,73,.85);
  font-weight: 700;
}

.date{
  font-size: 11px;
  letter-spacing: .14em;
  text-transform: uppercase;
  color: rgba(20,19,22,.55);
}

.letter-title{
  font-family: "Playfair Display", serif;
  font-weight: 700;
  font-size: 20px;
  margin: 4px 0 10px;
  color: rgba(20,19,22,.88);
}

.letter-text{
  font-family: "Inter", system-ui;
  font-size: 13.5px;
  line-height: 1.55;
  color: rgba(20,19,22,.78);
  padding-right: 4px;
  height: 148px;
  overflow:auto;
  outline: none;
}

.letter-text:focus{
  box-shadow: inset 0 0 0 2px rgba(178,58,73,.10);
  border-radius: 12px;
  padding: 8px;
  margin: -8px;
}

.letter-footer{
  display:flex;
  justify-content:space-between;
  margin-top: 10px;
  gap:10px;
}

.tip{
  font-size: 11px;
  color: rgba(20,19,22,.50);
}
/* =======================
   MEMORY GAME
   ======================= */

.game-wrap{
  height: calc(100svh - 84px);
  display:flex;
  flex-direction:column;
  gap:14px;
  padding: 6px 10px 14px;
}

.hud{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  flex-wrap:wrap;
  padding: 0 4px;
}

.hud-pill{
  font-size:12px;
  color: rgba(20,19,22,.62);
  letter-spacing:.06em;
  background: rgba(255,255,255,.52);
  border: 1px solid rgba(255,255,255,.40);
  border-radius: 999px;
  padding: 10px 12px;
  backdrop-filter: blur(10px);
}

.hud-btn{
  border: 1px solid rgba(255,255,255,.40);
  background: rgba(255,255,255,.52);
  border-radius: 999px;
  padding: 10px 12px;
  font-weight: 600;
  cursor:pointer;
  backdrop-filter: blur(10px);
}

.memory-grid{
  flex: 1;
  display:grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
  align-content:start;
  padding: 6px 4px;
}

@media (max-width: 420px){
  .memory-grid{ gap: 9px; }
}

.mem-card{
  position:relative;
  aspect-ratio: 3 / 4;
  border-radius: 16px;
  border: 1px solid rgba(15,15,18,.10);
  box-shadow: 0 18px 60px rgba(0,0,0,.14);
  background: rgba(255,255,255,.92);
  overflow:hidden;
  transform: translateZ(0);
  cursor:pointer;
}

.mem-inner{
  position:absolute;
  inset:0;
  transition: transform .55s cubic-bezier(.2,.9,.2,1);
  transform-style: preserve-3d;
}

.mem-card.flipped .mem-inner{ transform: rotateY(180deg); }

.mem-front,
.mem-back{
  position:absolute;
  inset:0;
  backface-visibility: hidden;
  display:flex;
  align-items:center;
  justify-content:center;
}

.mem-front{
  background: radial-gradient(700px 240px at 20% 10%, rgba(255,255,255,.80), rgba(255,255,255,.35)),
              rgba(255,255,255,.78);
}

.mem-front::before{
  content:"";
  position:absolute;
  inset:10px;
  border-radius: 12px;
  border: 1px solid rgba(15,15,18,.10);
}

.mem-monogram{
  font-family: "Cardo", serif;
  font-weight: 700;
  letter-spacing: .22em;
  color: rgba(137, 4, 20, 0.65);
  font-size: 18px;
  transform: translateX(3px);
}

.mem-suit{
  position:absolute;
  left: 12px;
  top: 12px;
  font-size: 12px;
  color: rgba(137, 4, 20, 0.60);
}
.mem-suit.btm{
  left:auto;
  right:12px;
  top:auto;
  bottom:12px;
  transform: rotate(180deg);
}

.mem-back{
  transform: rotateY(180deg);
  background: rgba(255,255,255,.96);
}

.mem-back img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
  filter: saturate(1.02) contrast(1.02);
}

.mem-card.matched{
  box-shadow: 0 24px 90px rgba(137, 4, 20, 0.14);
  border-color: rgba(137, 4, 20, 0.20);
}

.mem-card.locked{ pointer-events:none; opacity:.96; }

.win{
  position:fixed;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  z-index:60;
}

.win.show{ display:flex; }

.win::before{
  content:"";
  position:absolute;
  inset:0;
  background: rgba(10,10,12,.50);
  backdrop-filter: blur(8px);
}

.win-card{
  position:relative;
  width:min(92vw, 440px);
  border-radius: 26px;
  background: rgba(255,255,255,.86);
  border: 1px solid rgba(255,255,255,.42);
  box-shadow: 0 40px 140px rgba(0,0,0,.35);
  padding: 18px;
  text-align:center;
}

.win-title{
  font-family:"Playfair Display", serif;
  font-weight: 700;
  font-size: 22px;
  margin-bottom: 6px;
}

.win-sub{
  color: rgba(20,19,22,.65);
  font-size: 13px;
  line-height: 1.5;
  margin-bottom: 12px;
}

/* disable next arrow look until win */
#gameNext[disabled]{
  opacity:.35;
  pointer-events:none;
}/* =======================
   QUIZ
   ======================= */

.quiz-wrap{
  height: calc(100svh - 84px);
  display:grid;
  place-items:center;
  padding: 0 12px 14px;
}

.quiz-card{
  width: min(92vw, 520px);
  border-radius: 26px;
  background: rgba(255,255,255,.72);
  border: 1px solid rgba(255,255,255,.45);
  box-shadow: 0 28px 110px rgba(0,0,0,.16);
  backdrop-filter: blur(10px);
  padding: 18px;
}

.quiz-q{
  font-family:"Playfair Display", serif;
  font-weight:700;
  font-size: 22px;
  line-height: 1.2;
  margin: 4px 0 14px;
  color: rgba(20,19,22,.88);
}

.quiz-opts{
  display:flex;
  flex-direction:column;
  gap:10px;
}

.quiz-opt{
  text-align:left;
  border-radius: 16px;
  padding: 12px 12px;
  border: 1px solid rgba(15,15,18,.10);
  background: rgba(255,255,255,.82);
  cursor:pointer;
  font-weight:600;
  color: rgba(20,19,22,.78);
}

.quiz-opt:active{ transform: translateY(1px); }

.quiz-foot{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-top: 14px;
  font-size: 12px;
  color: rgba(20,19,22,.55);
}

.quiz-pill{
  border-radius: 999px;
  padding: 8px 10px;
  border: 1px solid rgba(15,15,18,.08);
  background: rgba(255,255,255,.60);
}

.quiz-opt.correct{
  border-color: rgba(0,0,0,.10);
  box-shadow: 0 18px 60px rgba(0,0,0,.08);
}
.quiz-opt.wrong{
  opacity:.55;
}

