<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>♡</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="styles.css" />
  <script src="app.js" defer></script>
</head>

<body>
  <div class="bg"></div>

  <main class="app">

    <!-- INTRO -->
    <section class="screen active" id="intro" aria-label="Intro">
      <div class="center">
        <h1 class="heart">♡</h1>
        <h2 class="typewriter" data-text="Hey my love… I made something just for you."></h2>
        <p class="subtitle">Best viewed on your phone, full screen.</p>
        <button class="btn btn-primary" onclick="go('lucky')">Tap to continue</button>
      </div>
      <div class="footer-note">Made with love.</div>
    </section>

    <!-- LUXURY CARD (PHOTO ONLY) -->
    <section class="screen" id="lucky" aria-label="Our card">
      <header class="topbar">
        <button class="btn btn-ghost btn-icon" onclick="go('intro')" aria-label="Back">‹</button>
        <div class="topbar-title"></div>
        <button class="btn btn-ghost" onclick="go('reasons')">Next</button>
      </header>

      <div class="content center">
        <div class="lux-card" aria-label="A card with our photo">
          <span class="corner tl">A ♥</span>
          <span class="corner br">J ♥</span>
          <img src="assets/hero.jpeg" alt="Us" />
        </div>
        <p class="hint subtle">Tap Next ♡</p>
      </div>
    </section>

    <!-- REASONS (ENVELOPE REVEAL) -->
    <section class="screen" id="reasons" aria-label="Reasons">
      <header class="topbar">
        <button class="btn btn-ghost btn-icon" onclick="go('lucky')" aria-label="Back">‹</button>
        <div class="topbar-title">A few reasons</div>
        <button class="btn btn-ghost" onclick="go('letter')">Next</button>
      </header>

      <div class="content center">
        <div class="envelope" id="envelope" role="button" tabindex="0" aria-label="Tap to open the envelope">
          <div class="env-shadow"></div>
          <div class="env-back"></div>
          <div class="env-letter">
            <div class="env-letter-inner">
              <p>• You make me feel safe.</p>
              <p>• You’re gentle with my heart.</p>
              <p>• You make me laugh when I need it most.</p>
              <p>• You choose me — every day.</p>
              <p>• You feel like home.</p>
            </div>
          </div>
          <div class="env-front"></div>
          <div class="env-flap"></div>
          <div class="seal">♡</div>
        </div>

        <p class="hint">Tap the envelope</p>
      </div>
    </section>

    <!-- LETTER + SECRET VIDEO -->
    <section class="screen" id="letter" aria-label="Letter">
      <header class="topbar">
        <button class="btn btn-ghost btn-icon" onclick="go('reasons')" aria-label="Back">‹</button>
        <div class="topbar-title">For you</div>
        <button class="btn btn-ghost" onclick="go('game')">Next</button>
      </header>

      <div class="content center">
        <div class="letter-card">
          <h2>To you,</h2>
          <p>
            I don’t say it enough, but I notice everything you do for me.
            Thank you for your patience, your care, and the way you make life feel softer.
          </p>
          <p>
            I love you — in the quiet moments, in the loud ones, and in every ordinary day in between.
            You are my favorite person.
          </p>
          <p class="sign">— Joanna</p>

          <div class="secret-row">
            <span class="secret-label">psst…</span>
            <button class="btn btn-small btn-ghost" id="secretBtn" aria-label="Secret">tap here</button>
          </div>
        </div>
      </div>

      <div class="modal" id="videoModal" aria-hidden="true">
        <div class="modal-card">
          <button class="btn btn-ghost btn-icon modal-close" id="closeVideo" aria-label="Close">✕</button>
          <video controls playsinline>
            <source src="assets/secret.mp4" type="video/mp4" />
          </video>
        </div>
      </div>
    </section>

    <!-- MEMORY GAME (8 photos) -->
    <section class="screen" id="game" aria-label="Memory matching game">
      <header class="topbar">
        <button class="btn btn-ghost btn-icon" onclick="go('letter')" aria-label="Back">‹</button>
        <div class="topbar-title">Match our memories</div>
        <button class="btn btn-ghost" id="toQuiz" onclick="go('quiz')" disabled>Next</button>
      </header>

      <div class="content game-content">
        <div class="hud">
          <div class="hud-pill">Matches <span id="hudMatches">0</span>/8</div>
          <div class="hud-pill">Moves <span id="hudMoves">0</span></div>
          <div class="hud-pill">Time <span id="hudTime">0:00</span></div>
          <button class="btn btn-small btn-ghost" id="restart">Restart</button>
        </div>

        <div class="game-board" id="memoryGrid" aria-label="Memory board"></div>

        <div class="win-modal" id="winModal" aria-hidden="true">
          <div class="win-card">
            <div class="win-title">You did it ♡</div>
            <div class="win-sub">One more thing…</div>
            <button class="btn btn-primary" id="continueAfterWin">Continue</button>
          </div>
        </div>
      </div>
    </section>

    <!-- QUIZ (5 questions) -->
    <section class="screen" id="quiz" aria-label="Mini quiz">
      <header class="topbar">
        <button class="btn btn-ghost btn-icon" onclick="go('game')" aria-label="Back">‹</button>
        <div class="topbar-title">How well do you know us?</div>
        <button class="btn btn-ghost" id="finishQuiz" onclick="go('final')" disabled>Next</button>
      </header>

      <div class="content center">
        <div class="quiz-box" id="quizBox"></div>
      </div>
    </section>

    <!-- FINAL -->
    <section class="screen" id="final" aria-label="Final page">
      <header class="topbar">
        <button class="btn btn-ghost btn-icon" onclick="go('quiz')" aria-label="Back">‹</button>
        <div class="topbar-title"></div>
        <span></span>
      </header>

      <div class="content center">
        <div class="final-card">
          <div class="final-title">I love you.</div>
          <div class="final-sub">Always.</div>
          <div class="final-note">Screenshot this ♡</div>
        </div>

        <button class="btn btn-primary" onclick="confetti()">Celebrate ♡</button>
      </div>

      <canvas id="confetti"></canvas>
    </section>

  </main>
</body>
</html>
